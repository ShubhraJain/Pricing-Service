var redis = require("redis");
var client = redis.createClient();

client.on('connect', function() {
  // console.log('connected via koa');
}).select(3, function() { 
  aggregatedData();
  availableDriversPerCityData()
});

var cities = ['Brody',
'Borisov',
'Bazar',
'Osnova',
'Ogre',
'Spas',
'Gustavia',
'Avarua',
'Gourbeyre',
'Onar',
'Florida',
'Willensen',
'Himanka',
'Kavarna',
'Christiansted',
'Vastra Amtervik',
'West Island',
'Gan Hayyim',
'Honiara',
'Made',
'Mercedes',
'Honefoss',
'Sint Nicolaas',
'Al Sohar',
'Draginovo',
'Sanaa',
'Tanki Lender',
'Lobamba',
'Niamey',
'Cotoca',
'Bamako',
'Bangui',
'Cristuru Secuiesc',
'American Samoa',
'Roma',
'Masai',
'Dauphin',
'Emmastad',
'Toila',
'Shkoder',
'Marigot',
'Vientiane',
'Ashgabat',
'Baghdad',
'Jaunolaine',
'Grand Cul-de-Sac',
'Sansanne-Mango',
'Port-aux-Francais',
'Funafuti',
'Lyakhovichi',
'Jacmel',
'Saint Lucia',
'Casal',
'Maseru',
'Toliara',
'Windhoek',
'Praia',
'Vega Alta',
'Kingstown',
'Bujumbura',
'Amarante',
'Tan Binh',
'Xirdalan',
'Philipsburg',
'Tristan Da Cunha',
'Maldonado',
'Terre-de-Haut',
'Bahrs Scrub',
'Salwa',
'Majuro',
'Vredeberg',
'Lhota',
'Sahalahti',
'Anse Marcel',
'Safotulafai',
'Nassau',
'Jawlakhel',
'Banjul',
'Dunlavin',
'Lot',
'New Amsterdam',
'Ipoh',
'Gudja',
'Hahndorf',
'Gata de Gorgos',
'Aleppo',
'Ad Dasmah',
'Petit Cayenne',
'Zurges',
'Berekua',
'Loperhet',
'Dalby',
'Darganata',
'Lopinot',
'Umwa Village',
'Port Erin',
'Dinskaya',
'Jakobselv',
'Chinhoyi',
'Talatona',
'Owaka',
'La Saline',
'San Juan del Sur',
'Banda Aceh',
'Eureka',
'Piarco',
'Palpa',
'Ingija',
'Piedecuesta',
'Ma Wan',
'Aitape',
'Villa Madero',
'Santa Cruz',
'Skopje',
'Loltong',
'Longyearbyen',
'Sihanoukville',
'Malyn',
'Springs Junction',
'Apostag',
'Kaevlinge',
'Diego Garcia',
'Palm Beach',
'Sharjah',
'Dehiwala-Mount Lavinia',
'Nemby',
'Ternat',
'Abidjan',
'Adamstown',
'Juarez',
'Antarctica',
'Grindavik',
'Gros Islet',
'Manama',
'Kotor',
'Dili',
'Weitra',
'Grytviken',
'Aroma',
'Anabar',
'Juan Franco',
'Lugang',
'Kitale',
'Kiev',
'Quetzaltenango',
'Peshawar',
'Road Town',
'Wong Chuk Hang',
'Leval-Trahegnies',
'Sobral de Monte Agraco',
'Phumi Boeng (1)',
'Caldas',
'Jelgava',
'Laventille',
'Port Vila',
'Berekum',
'Triesen',
'West Bay',
'Lusaka',
'Hveragerdi',
'Monaco',
'Sandy Point Town',
'Dhrol',
'Al Wakrah',
'Jurdab',
'Quba',
'Vilniaus Apskritis',
'Shendi',
'Gibraltar',
'St Peter Port',
'Komotini',
'Alfta',
'Ernstbrunn',
'Orchard Hills',
'Stanley',
'Salt',
'Village',
'Siikainen',
'Mogadishu',
'Minacar',
'Asmara',
'Bohinjska Bela',
'Kampala',
'Malabo',
'Damascus',
'Tenkodogo',
'Castries',
'Canillo',
'Dubai',
'Moutsamoudou',
'Khanpur',
'Somerset',
'Saint Helier',
'Lagos',
'Pravets',
'Kinshasa',
'Anse La Raye',
'Macao',
'Claxton Bay',
'Amman',
'Inya',
'Komenda',
'Juba',
'Hartenbos',
'Neiafu',
'Gimhae',
'Karaca',
'Ouagadougou',
'Cahul',
'Quelimane',
'Kralendijk',
'Nuuk',
'Kingston',
'Velden',
'Pago Pago',
'Zakynthos',
'Djibouti',
'Innan Glyvur',
'Choiseul',
'Vikesa',
'Lucapa',
'Dumbea',
'Larisa',
'Parana',
'Apia',
'Kirkuk',
'Jerez de Garcia Salinas',
'Overpelt',
'Alofi',
'Dehiwala',
'Kanokupolu',
'Pointe-Noire',
'Panaga',
'Ferizaj',
'Sotira',
'Kabete',
'Bissau',
'Wagan',
'Karojba',
'Banana',
'Ondangwa',
'Sousse',
'Fossdalen',
'Kamphaeng Phet',
'Saint Johns',
'Mata-Utu',
'Arue',
'Brookfield',
'Obernberg am Brenner',
'Port-au-Prince',
'Catano',
'Darakhov',
'Khartoum',
'Mongar',
'Harare',
'Tortola',
'Pyongyang',
'Ostervra',
'Polatsk',
'Tizi',
'Lujiazhi',
'Over Back The Damp',
'Ait Melloul',
'Temirtau',
'Le Reduit',
'Huetor Vega',
'Salem',
'Vullierens',
'Andorra la Vella',
'Escaldes-Engordany',
'Nuevo Leon',
'Ilulissat',
'Mwanza',
'Kadima',
'Kertih',
'Sainte-Anne',
'Santa Rita',
'Atlantic Shores',
'Bingemma',
'Seglora',
'Novi Becej',
'Rasak',
'Baie-Mahault',
'Saint-Francois',
'Erlach',
'Coyol',
'Saint-Louis',
'Seong-dong',
'Ghaxaq',
'Vaeaeksy',
'Ouangani',
'Banaz',
'Ossiach',
'Vailala',
'Tete',
'Nyala',
'Port Louis',
'Kornik',
'Ar Rayyan',
'Brezno',
'Nea Filadelfeia',
'Linden',
'Saku',
'Ruggell',
'Gyeongsan-si',
'Pirae',
'Chiconi',
'Oleh',
'Saint Peter',
'Cacheu',
'Flying Fish Cove',
'Moroni',
'Ad Darah',
'Sarba',
'Raha',
'Bloomsbury',
'Machali',
'Ilinden',
'Gaborone',
'Dereham',
'Hamilton',
'Kundiawa',
'May Pen',
'Hargeysa',
'St John Island',
'Saint Clair',
'Palin',
'Madaba',
'Bodden Town',
'Prokuplje',
'Grafendorf',
'San Vicente',
'Tamavua Heights',
'Vatican City',
'Susenii Bargaului',
'Robards',
'Rozino',
'Salalah',
'Ambriz',
'Sidcot',
'Mount Hamilton',
'Neves',
'Soyapango',
'Taichung',
'Oistins',
'Villa Morelli',
'Mont-Dore',
'San Ignacio',
'Termez',
'Kandahar',
'Kabi',
'Mamou',
'Strovolos',
'La Union',
'George Hill',
'La Molina',
'Naklo',
'Herat',
'Ebene CyberCity',
'Somero',
'Turgeau',
'Pljevlja',
'Suphan Buri',
'Siavonga',
'Luohe',
'Suva',
'Kwaluseni',
'Cruz Alta',
'Thabit',
'Nieuw Amsterdam',
'Fengming',
'Charlestown',
'Kapan',
'Beira',
'Ramallah',
'Bingol',
'Newlands',
'Otavalo',
'Grimmen',
'Newport',
'Tai Kok Tsui',
'Ringo',
'Kembangan',
'Kafr ash Shaykh',
'Krynica-Zdroj',
'Ukmerge',
'Matoury',
'The Valley',
'Rocklea',
'Sollentuna',
'Valley',
'Paamiut',
'Rades',
'Paco de Arcos',
'Puentelarra',
'Skwierzyna',
'Casablanca',
'Esch-sur-Alzette',
'Ballon',
'Carignan',
'Sumqayit',
'Old Harbour',
'Talca',
'Atafu Village',
'Vieques',
'Puli',
'Tsoundzou 1',
'Cruz',
'Corumba de Goias',
'Phuket',
'Ayia Marina',
'Mzuzu',
'Boca Chica',
'Dobruska',
'Jelka',
'Hawalli',
'Freetown',
'Strassen',
'RuÅ¾omberok',
'Basseterre',
'Bor',
'Varberg',
'Kran',
'Valle',
'Fazal',
'Sinaloa de Leyva',
'Horche',
'Yap',
'Port Maria',
'Kongerslev',
'Matsuyama',
'Bani Jamrah',
'Marsh Harbour',
'Ballasalla',
'Durian Tunggal',
'San Juan',
'Venhuizen',
'Mariehamn',
'Visoko',
'Saipan',
'Itagui',
'Lehota',
'Ovoshtnik',
'Eldoret',
'Leirvik',
'Thon Bao An',
'Dushanbe',
'Valkeala',
'Isla de Tibas',
'Torre',
'Guarei',
'Charlotte Amalie',
'Zagrodno',
'Barquisimeto',
'Clanwilliam',
'Bishkek',
'Palmetto Point',
'Awasa',
'Codrington',
'Sukkur',
'Gostar',
'Francistown',
'Llano Tugri',
'Canelones',
'Ashtarak',
'Nouakchott',
'Rudnyy',
'Ar Ruways',
'Hvolsvollur',
'Balfour Town',
'Mumbwa',
'Leudelange',
'Georgetown',
'Shuishang',
'Doha',
'Papeete',
'Komorni Lhotka',
'La Paz',
'Banatsko Novo Selo',
'Almasfuzito',
'Willemstad',
'Mamoudzou',
'Agenskalns',
'Schaan',
'Aigio',
'Lilongwe',
'Herinnes',
'Haukkala',
'Encamp',
'Pointe Noire',
'Salcininkai',
'Shulin',
'Yukuhashi',
'Ravda',
'Aldeanueva de Ebro',
'Ordino',
'Zepce',
'Otelfingen',
'Sero Blanco',
'Brazzaville',
'Alvechurch',
'La Chaloupe Saint-Leu',
'Cockburn Harbour',
'Pueblo Nuevo',
'Tay Ninh',
'Olinda',
'Skandia',
'Irbid',
'Union',
'Kumanovo',
'Addis Ababa',
'Moratuwa',
'Portalegre',
'Ibadan',
'Bistrica pri Rusah',
'Wabag',
'Falciano',
'Baudour',
'Qusar',
'Stompetoren',
'Ladyville',
'Totness',
'Enniscorthy',
'Dunavo',
'Phumi Thnal',
'Bharatpur',
'Belize City',
'Monrovia',
'Benguela',
'Piggs Peak',
'Nampula',
'Kisumu',
'Saint-Esprit',
'Bevtoft',
'Settat',
'Ravine des Cabris',
'Valga',
'Paeau',
'Istanbul',
'Playas',
'Telega',
'San Antonio',
'Vestmannaeyjar',
'Baiao',
'Curtici',
'Level',
'Erebuni Fortress',
'Saint-Denis',
'Voorburg',
'Kampong Pasir Ris',
'Bukit Timah',
'Ostim',
'Chinandega',
'Petit-Bourg',
'Petite-Ile',
'Soroca',
'Moundou',
'Stevensweert',
'Tar',
'Dabola',
'Mahina',
'Fish Town',
'Pyhaejoki',
'Al `Amarah',
'Lochmaddy',
'Sidon',
'Grootfontein',
'Edshultshall',
'Antsirabe',
'Cotui',
'Kuesnacht',
'Punta del Este',
'St. Saviour',
'Bolivar',
'Clapham',
'Geroskipou',
'Karachi',
'Jibou',
'Mokopane',
'Nyarugunga',
'Habana',
'Mary',
'Benque Viejo del Carmen',
'Machachi',
'Rafael Castillo',
'Remich',
'Ben Nghe',
'Mazkeret Batya',
'Havelian',
'Ziauddin',
'Spanish Wells',
'Kalia',
'Jhumra',
'Hevizgyoerk',
'Comayaguela',
'Jijiga',
'Highland Falls',
'Sainte-Clotilde',
'Bayan',
'Al Khan',
'Maputo',
'Holmestrand',
'Choustnik',
'Le Morne-Rouge',
'Newe Yamin',
'Rivas',
'Alde Leie',
'Ibicuy',
'Mozambique',
'Claregalway',
'Rasht',
'Saint-Savinien',
'Glyfada',
'Gostivar',
'La Reforma',
'Sana',
'Vaalpark',
'Bafoussam',
'Hammarland',
'Hayat',
'Russo',
'Monte Carlo',
'Carlow',
'Buren nid dem Bach',
'Cotonou',
'Anthisnes',
'Remire-Montjoly',
'Choloma',
'Kuching',
'Olaine',
'Samad',
'Lautoka',
'Atvidaberg',
'Numbrecht',
'Moanda',
'Gandra',
'Benghazi',
'Dalvik',
'Kampong Jerudong',
'Kigali',
'Sfax',
'Szabolcs',
'Lai Chi Wo',
'Moengo',
'Duverger',
'Elbasan',
'Cartoceto',
'Perez',
'Hazelwood',
'Spot Bay',
'Mitrovica',
'Bandaboa',
'Blokzijl',
'Arvayheer',
'Khorugh',
'Les Trois-Ilets',
'Abomey-Calavi',
'Botoncillal El Botoncillo',
'Breginj',
'Batu Caves',
'Luyksgestel',
'Luxembourg-Kirchberg',
'Wonmi-gu',
'Jimenez',
'Siaya',
'Freetown Sibun',
'Cement City',
'Kasukabe',
'Gottby',
'Woudsend',
'Coatepeque',
'Radovis',
'Horsens',
'Antunovac',
'Ragama',
'Safi',
'Bereldange',
'Osaki',
'Warrens',
'Villa Rosa',
'Tashkent',
'Phatthalung',
'Mampong',
'Conakry',
'Nouville',
'Bruges',
'Bwari',
'Coka',
'Arthabaska',
'Delmar',
'Ozatlan',
'Gafsa',
'Qaqortoq',
'Karagandy',
'Papamoa',
'Victoria',
'Montego Bay',
'Salto',
'Holthone',
'Combani',
'Lit',
'Portus',
'Mayaguez',
'Ar Ramtha',
'Daru',
'Dumaguete',
'Manor',
'Saham',
'Manage',
'Nakhon Sawan',
'Mandalay',
'Maria Buch',
'Trautmannsdorf an der Leitha',
'Puerto Jimenez',
'Hrodna',
'Legnano',
'Gwanda',
'Vaslui',
'Novi Iskur',
'Collipulli',
'Bandar Seri Begawan',
'Paniqui',
'Qazbegi',
'Libreville',
'Guaricano',
'Vanadzor',
'Mauren',
'Tranby',
'Filias',
'Balboa',
'Corrientes',
'Ruwi',
'Co Giang',
'Sabero',
'Happy Valley',
'Cerro de Pasco',
'Roseau',
'Gan Yavne',
'Ekali',
'Tuol Kok',
'Rabagani',
'Rydobruk',
'Skoghall',
'Nablus',
'Soacha',
'Massaguet',
'San Cristobal',
'Bocas del Toro',
'Tyachiv',
'Mozyr',
'Kassala',
'Kuressaare',
'Peel',
'Qiryat Motzkin',
'Jiangdong',
'Han-Uul',
'Nabon',
'Saltangara',
'Acquaviva',
'Kitwe',
'Chimbarongo',
'Taipa',
'Pilsrundale',
'Soshanguve',
'Kheri',
'Le Robert',
'Bedok New Town',
'Yarmouth',
'Unteriberg',
'Hebron',
'Tuomikylae',
'Boussinki',
'Tagaytay',
'Szikszo',
'Kuwait City',
'Azadi',
'Sarandi',
'Aguadilla',
'Kanturk',
'Thimphu',
'Bukoba',
'Wanstead',
'Saint Jean',
'Tarfaya',
'Oranjestad',
'Skultuna',
'Berovo',
'Gilman',
'Sainte-Marie',
'Bangar',
'Szolnok',
'Gordon Town',
'Ura Vajgurore',
'Bocsa',
'Radzymin',
'Takapuna',
'Savannah',
'Portimao',
'Saint-Piorre',
'Pine Housing Estate',
'Najaf',
'Onchan',
'Cairo',
'Greendale',
'Pongola',
'Empalme',
'Nagercoil',
'Pampanga',
'Xiadianmiao',
'Tsaghkadzor',
'Hvalba',
'Worthing',
'Qingtian',
'Cassada Gardens',
'Herzliya',
'Old Road',
'Venta',
'Camuy',
'Port Saint Mary',
'Garliava',
'Gorzkowice',
'Farah',
'Samsung',
'Titikaveka',
'Santiago de Cuba',
'Yauco',
'Bendern',
'Pedernales',
'Maleny',
'Krzyzanowice',
'Floreal',
'Radoshkovichi',
'Les Avirons',
'Tibati',
'General Martin Miguel de Guemes',
'Humansdorp',
'Likasi',
'Argenteau',
'Aksoran',
'Macerata Campania',
'Doboj',
'Manado',
'Kampung Teriang',
'Oranjemund',
'Kagoshima',
'Krasnystaw',
'Sauteurs',
'Banxi',
'Urim',
'Onverwacht',
'Mandeville',
'Oruro',
'Tsingoni',
'Davy Hill',
'La Ceiba',
'Paldiski',
'Ovoot',
'Foxdale',
'Cartago',
'Norrsundet',
'Cabinda',
'Krimpen aan den IJssel',
'Quito',
'Phumi Thmei',
'The Hague',
'Tlemcen',
'Ariana',
'Behdasht',
'Dorp Nikiboko',
'Sharif',
'Munro',
'Lerma',
'Esmeraldas',
'Moroleon',
'Foster',
'El Chorro',
'Bac Kan',
'Takamaka',
'Samtredia',
'Hampton',
'Baranovichi',
'Schoelcher',
'Jericho',
'Apata',
'Jessore',
'Barra de Carrasco',
'Apaga',
'Dbaiye',
'Magoula',
'Kozani',
'Dundee',
'Zablocie',
'Umm Durman',
'Vacoas',
'Tampines New Town',
'Limpio',
'Vott Kampong Svay',
'Koljonvirta',
'Jermuk',
'Clevedon',
'Three Legged Cross',
'Prince',
'Narayanganj',
'Santa Fe',
'Tanga',
'Bergvliet',
'Sucre',
'Kathmandu',
'Aden',
'Navrongo',
'Broummana',
'Herrnbaumgarten',
'Morogoro',
'Jamestown',
'Takoradi',
'Sabaneta',
'Coamo',
'Shklow',
'Bangla',
'Torteval',
'Numansdorp',
'Pembroke',
'Silvares',
'Tirumala - Tirupati',
'Tangier',
'Kapisillit',
'Nebouzat',
'Cecerleg',
'Yasuj',
'Abu Dhabi',
'Dragizhevo',
'Shar',
'Cerrillos de Tamaya',
'San Marino',
'Kraljevec na Sutli',
'Kolka',
'Fuyang',
'Pogradec',
'Le Petit Tampon',
'Etunda',
'Arabkir',
'Sainte-Melanie',
'Calamar',
'Urasoe',
'Taitung',
'Gujrat',
'Toledo',
'Kourou',
'Tai Wai',
'Saint-Gilles-les Bains',
'Waigani',
'Novi Belgrade',
'Okubo',
'Delcevo',
'Moca',
'Panevezys',
'Otjiwarongo',
'Erpolzheim',
'Cerknica',
'Jurmo',
'Kribi',
'Al Hamalah',
'Janghowon',
'Gregory Park',
'Noumea',
'Glenbrook',
'Louga',
'Lowicz',
'Douala',
'Oosterend',
'Ras al-Khaimah',
'Cojasca',
'Charmouth',
'Liseleje',
'Sawa Sawa',
'Ulaan-Uul',
'Tababela',
'Solbergelva',
'Queenstown Estate',
'Gracanica',
'Mbabane',
'Ad Dawhah',
'Varik',
'Luna',
'George Town',
'Palm Island',
'Mar del Tuyu',
'Cumaribo',
'Heliopolis',
'Kolodeje',
'Jubail',
'Ayutuxtepeque',
'Menteng',
'Bahr',
'Olkusz',
'Al Ain',
'Roppongi',
'Punaauia',
'Deshaies',
'Kemzeke',
'Huambo',
'Kikuyu',
'Nasir',
'Baskent',
'Escuintla',
'Madinat Yanbu` as Sina`iyah',
'Sulutapa',
'Alzingen',
'Eilat',
'Solwezi',
'Surcin',
'Vrbovec',
'Naifaru',
'Kapatagan',
'Blantyre',
'Saurimo',
'Vinhedo',
'Chase',
'Case-Pilote',
'Kumba',
'Portmore',
'Tinos',
'Santa Ana',
'Hormigueros',
'Narsarsuaq',
'Tighina',
'Freeport',
'Clairmont',
'Moppo',
'Glenhaven',
'Bodyke',
'Jimani',
'Soledad',
'Mojmirovce',
'Lemland',
'Guanajuato',
'Molah',
'Palma Gil',
'Sandgate',
'Youbou',
'Douglas',
'Arima',
'Kiiminki',
'San Pedro Town',
'Aligarh',
'Castleford',
'Tiraspol',
'Songam',
'Galapa',
'Wagenborgen',
'Bulawayo',
'Planken',
'Oshakati',
'Guediawaye',
'Fianarantsoa',
'Nossa Senhora',
'Tetovo',
'Atlantico',
'Navapolatsk',
'Zurrieq',
'Sainte-Suzanne',
'Wan Tsai',
'Kampong Pasir Segambut',
'Siggiewi',
'Chachapoyas',
'Phuong Tan',
'Belmopan',
'Al Ahmadi',
'Grajewo',
'Ibarlucea',
'Sattahip',
'Waffenbrunn',
'Luxor',
'Laxa',
'Alliku',
'Qasigiannguit',
'Vieux Fort',
'Skagastrond',
'Port-Gentil',
'Nova Cerkev',
'Vlado Trichkov',
'Pamandzi',
'Pezinok',
'Bamenda',
'Tripoli',
'Shetulim',
'Province of Pampanga',
'Taldyk',
'Woodlands New Town',
'Kwekwe',
'Bardolino',
'Tamuning-Tumon-Harmon Village',
'Valletta',
'Keratsini',
'Etawah',
'Sliema',
'Olongapo City',
'Bethlehem',
'Hunsdorf',
'San Ramon',
'Kurd',
'Chai Wan Kok',
'Pchelishte',
'Quatre Bornes',
'Cameron Highlands',
'San Lorenzo',
'Esperantina',
'Peipohja',
'Tiznit',
'Luoxi',
'Hoviksnas',
'Shtip',
'Arneberg',
'Sisimiut',
'Lustleigh',
'Podgorica',
'Emam',
'Hassan',
'Al Muharraq',
'Dunmore Town',
'Accra',
'Novy Salas',
'Viuf',
'Madang',
'Lobito',
'Kapar',
'Canada de Gomez',
'Cavinti',
'Krasnik',
'Zsambok',
'Palivere',
'Granada',
'Dodji',
'Guayaquil',
'Stup',
'Santiago',
'Palhoca',
'Blind River',
'Manhuacu',
'Gzira',
'Portland',
'Beltrami',
'Masseau',
'Srpska',
'Aguachica',
'Pardesiyya',
'Mazyr',
'Taquaral',
'Zaslawye',
'Inarajan Village',
'Drochia',
'Spinea',
'Botopasi',
'Haluz',
'Jiloviste',
'Engordany',
'Charallave',
'Zemo-Avchala',
'Nizwa',
'Halba',
'Xinqiao',
'Valjevo',
'Riviere-Salee',
'Nunhem',
'Agarak',
'Walkinstown',
'Tejgaon',
'OEdkarby',
'Calascibetta',
'Deryneia',
'Los Prados',
'Houghton Estate',
'Horlivka',
'Moran',
'Faaa',
'Maraval',
'Kurdwanow',
'Coatzacoalcos',
'Laxey',
'Chiquimula',
'Puerto Lempira',
'Schwabmunchen',
'Bsalim',
'Kyyiv',
'Toukh',
'Causeway Bay',
'Kohila',
'Laxia',
'Lubumbashi',
'Changfeng',
'Uliastay',
'Appiano sulla strada del vino',
'Kaarma',
'Jianzhong',
'Samarkand',
'Sangaredi',
'Machakos',
'Quebrada de Camilo',
'Ying Pun',
'Lae',
'Olmue',
'Havana',
'Menges',
'As Satwah',
'Maloy',
'Sonzay',
'Llorts',
'Lukavac',
'El Salvador',
'Sao Joao da Barra',
'Minato',
'Arusha',
'Nadi',
'Kabul',
'Pamukkale',
'Torcec',
'Herceg Novi',
'El Hajeb',
'La Floresta',
'Rabigh',
'Evander',
'Signabour',
'Cuenca',
'Dingli',
'Kelapa Dua',
'Peng Chau',
'Avondale',
'Toucheng',
'Brownsweg',
'Bogor',
'Tbilisi',
'Wielowies',
'Rajshahi',
'Matola',
'Pavlodar',
'Augustusburg',
'Saint-Donat',
'Pristina',
'Kimbe',
'Rottenstuben',
'Tampico',
'Dobrunje',
'Battaramulla South',
'Batu Pahat',
'Becej',
'Mount Merrion',
'Khemisset',
'Dauendorf',
'Pontevel',
'Log pri Brezovici',
'Einighausen',
'Muglizh',
'Coto Laurel',
'Nesgrenda',
'Paramaribo',
'Mymensingh',
'Port Harcourt',
'Abrantes',
'Batu Feringgi',
'Hospital',
'Gamba',
'Kedougou',
'Las Piedras',
'Zakamenne',
'Talme Menashe',
'Parham',
'Mian Channu',
'Strumica',
'Sanabis',
'San Barbola',
'Magdacesti',
'Oakura',
'Futog',
'Gmina Ciechanowiec',
'Rouiba',
'Cayambe',
'Panabo',
'Dily',
'Dzyarzhynsk',
'Abqaiq',
'Baie Mahault',
'Kenitra',
'Limassol',
'Vernier',
'Tyssedal',
'Ulcinj',
'Sao Sebastiao da Amoreira',
'Vinh Long',
'Cojusna',
'Gouyave',
'Colonia de Venado',
'Noord',
'Bobo-Dioulasso',
'Lumbini',
'Ohura',
'Wa',
'Teluk Intan',
'Lourdes',
'Larsmo',
'Changi Village',
'Jenin',
'Zagazig',
'Bled',
'Tra Vinh',
'Sanski Most',
'Pongani',
'Glattbach',
'Karaj',
'Los Arados',
'Nisporeni',
'Phumi Preah Haoh',
'Kvasyliv',
'Niksic',
'Clementi New Town',
'Capesterre-Belle-Eau',
'Akranes',
'Westchester',
'Le Port',
'Fairmont Hot Springs',
'Hanam',
'Sanad',
'Ash Shuwaykh',
'Mamagnia',
'Fujairah',
'Marino',
'Dayrah',
'Abraq Khaytan',
'Portland Cottage',
'Boquete',
'Angadipuram',
'Le Tampon',
'Villa Elisa',
'Bagatelle',
'Struga',
'Pangil',
'Dobele',
'Hallett',
'Nieuw-Buinen',
'Egbeda',
'Rabat',
'Volochek',
'Kampung Likas',
'Kokopo',
'Qeqertat',
'Longreach',
'Ohrdruf',
'Charleston',
'Warners',
'Villarrica',
'Bhagwan',
'Towarzystwo',
'Kurume',
'Lorengau',
'Kiambu',
'Naantali',
'Mutare',
'Dolemo',
'Schaanwald',
'Aqtau',
'Henndorf am Wallersee',
'Shatura',
'Alamo',
'Baillif',
'Usulutan',
'Port Mathurin',
'Courtland',
'Antsiranana',
'Kramatorsk',
'Al Mansurah',
'Willroth',
'Pasig',
'Pardubice',
'Metaxades',
'Matanzas',
'Attock',
'Albaredo',
'Chonchi',
'Eich',
'Madison',
'Spanish Town',
'Rawai',
'Permatang Pauh',
'Progress',
'Guanare',
'Kadino',
'Castleknock',
'Enugu',
'Sakiai',
'Haiphong',
'Ambanja',
'Sandanski',
'Tanjong Pagar', 
'Nador', 
'Sopot', 
'Kankan', 
'Orapa', 
'Barraute', 
'Zgharta', 
'Palanga', 
'Ugong Norte'
]

var aggregatedData = function() {
  for (var i = 0; i < cities.length; i++ ) {
    var city = cities[i];
    for (var k = 1; k < 31; k++) {
      for (var j = 0; j < 24; j++) {
        var avgSurge = parseFloat((Math.random() * (3.0 - 1.0) + 1.0).toFixed(1));
        var avgDrivers = parseInt(Math.floor(Math.random() * (65 - 0) + 0));
        client.hmset(`${city}:${k}:${j}`, 'avgSurge', avgSurge, 'avgDrivers', avgDrivers, function(err, reply) {
          if (err) {
            console.log(err);
          } 
        });
      }
    }
  }
}

var availableDriversPerCityData = function() {
  for (var i = 0; i < cities.length; i++ ) {
    var city = cities[i];
    var availableDrivers = Math.floor(Math.random() * 50) + 1;
    client.hset('city', `${city}`, availableDrivers, function(err, reply) {
      if (err) {
        console.log(err);
      } else {
        console.log('city', `${city}`, availableDrivers);
      }
    });
  }
}
